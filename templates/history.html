{% extends "base.html" %}
{% block title %}Traffic Sign Detection - History{% endblock %}
{% block content %}
<div class="flex flex-col min-h-screen"> <!-- Thêm wrapper div với flex layout -->
    <main class="flex-grow container mx-auto px-4 py-10">
        <section class="relative rounded-xl overflow-hidden shadow-lg p-8 mb-8 bg-cover bg-center"
            style="background-image: url({{ url_for('static', filename='images/back_2.jpeg') }}); height: 700px;">


            <div class="absolute inset-0 bg-black/50"></div>

            <div class="relative z-10">
                <h2 class="text-3xl font-extrabold mb-6 text-blue-200" style="text-align: center; text-transform: uppercase;">Detection History</h2>

                {% if json_data %}
                <div class="p-5 bg-blue-50 rounded-xl border border-blue-200 shadow-inner max-h-96 overflow-y-auto">
                    {% for det in json_data|reverse %}
                    <div
                        class="p-3 border-b border-dashed border-blue-200 last:border-0 flex justify-between items-center text-gray-700 hover:bg-blue-100 transition-colors duration-200">
                        <span class="font-medium text-lg">{{ det.type }}</span>
                        <span class="text-sm text-gray-500">{{ det.timestamp }}</span>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <div class="text-center p-8">
                    <div class="inline-block p-4 bg-gray-50 rounded-lg border border-gray-200 max-w-md">
                        <i class="fas fa-history text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-500 italic">No detection history available yet.</p>
                        <p class="text-gray-600 mt-2">Start detecting signs to build your history!</p>
                        <a href="{{ url_for('image_upload') }}"
                            class="mt-4 inline-block bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                            <i class="fas fa-upload mr-2"></i>Upload Image
                        </a>
                    </div>
                </div>
                {% endif %}
            </div>
        </section>

    </main>

</div>
{% endblock %}